---
title: "226305 Forschungsbericht Hobbit Netzwerk"
author: 'Adriano Nicolosi an053@hdm-stuttgart.de, Alessia Guerrieri ag159@hdm-stuttgart.de,
  Leonie Bacher lb143@hdm-stuttgart.de, Katharina Becer kb128@hdm-stuttgart.de, Jasmin
  Setz js393@hdm-stuttgart.de , Dilara Inceosman di007@hdm-stuttgart '
MVP: Adriano Nicolosi an053@hdm-stuttgart.de
date: "Sommersemester 2020"
output: html_document
subtitle: Analyse des Gesamtnetzwerks der Charaktere der Hobbit Trilogie sowie die
  Unterschiede zwischen Film und Buch
---
!!! WICHTIG !!!

Nachdem ausführen des gesamten Dokumments, bitte die einzelne Chunks mindestens einmal und maximal zweimal laden. R kommt nicht immer mit den Änderungen der Farben mit. Danke für Ihr Verständis und viel Spaß in Mittelerde. 

!!! WICHTIG !!!


#1. Einleitung

Wir untersuchen die Filmtrilogie „ Der Hobbit” und das dazugehörige Buch „Der kleine Hobbit”, geschrieben von J. R. R. Tolkien. Wir legen unseren Fokus zum einen auf die einzelnen Figuren und untersuchen dafür jeden einzelnen Charakter in Hinblick auf die persönlichen Hintergründe wie beispielsweise die Volkszugehörigkeit, den Geburtsort oder das Alter. Auf diesem Wege erstellen wir ein allgemeines Gesamtnetzwerk, welches einen groben Überblick über die Verbindungen und Beziehungen zwischen den einzelnen Figuren ermöglicht. Netzwerkanalysen erlauben es, zusammengesetzte und intern strukturierte Formationen mit ihren unvorhersehbaren, ganzheitlichen Merkmalen zu beschreiben. Ein Netzwerk ergibt sich aus dem Beziehungsmuster der Elemente (Jansen, 2006). Damit dem Forschungsprojekt noch mehr Tiefe verliehen wird, möchten wir zum anderen in mehreren Teilnetzwerken konkret auf die genauen Unterschiede zwischen dem Buch und dessen Verfilmung eingehen. Wir haben uns für dieses Thema entschieden, da wir selbst alle große Fans der Trilogie sind und uns mehr mit den Hintergründen auseinandersetzen wollten.

#2. Hintergrundinformationen

##2.1 Über den Autor J. R. R. Tolkien

Am 3. Januar 1892 wurde John Ronald Reuel Tolkien in Bloemfontein, Südafrika geboren. Im Jahr 1896, nach dem Tod seines Vaters, zieht John mit seiner Mutter und seinem zwei Jahre jüngeren Bruder Hilary zurück in die englischen West Midlands (Lippold, 2013). Bevor Tolkien als Leutnant in den Ersten Weltkrieg zog, heiratete er 1916 seine Jugendfreundin Edith Bratt, mit der er später drei Söhne und eine Tochter bekam. Ab dem Jahr 1925 war er Professor für englische Philologie in Oxford und machte sich schon bald einen Namen als einer der angesehensten Philologen weit über die Grenzen Englands hinaus. Seine besondere Vorliebe galt schon immer den alten nordischen Sprachen (Simek, 2016). Diese Liebe brachte Tolkien dazu, die Sprache Elbisch zu erfinden, die er auch in seinen Werken verwendet. Da sich eine Sprache am logischsten weiterentwickeln lässt, wenn sie gesprochen wird, und sei es von fiktiven Gestalten in einer erdachten Welt, entstand ein System verschiedener Sprachen, die ineinandergreifen, sich gegenseitig beeinflussen, die voneinander abgeleitet sind und mitunter auch aussterben. Und mit dieser Sprache entstanden die Völker und Lebewesen Mittelerdes: die allmächtigen Götter und spitzohrigen Elben, die verschlagenen Menschen und streitlustigen Zwerge, die langsamen Baumwesen, garstigen Orks und feurigen Drachen (Lippold, 2013). Nicht zu vergessen sind natürlich jene Figuren, die Tolkien am liebsten waren: die Hobbits. Die gemütlichen, halb großen Wesen, die gern zu Hause bleiben und sich eine schöne Pfeife anzünden. „Ich bin tatsächlich selber ein Hobbit (in allem bis auf die Größe). Ich liebe Gärten, Bäume und Ackerland ohne Maschinen, ich rauche Pfeife, esse gern gute, einfache Sachen (nichts aus dem Kühlschrank) und verabscheue die französische Küche“, schrieb Tolkien einmal über sich selbst (Lippold, 2013). Weiter schrieb er, dass er sich zudem getraue, dekorative Westen zu tragen, einen sehr einfachen Humor habe, spät zu Bett gehe, spät aufstehe und nicht viel reise.
Aus der ursprünglich für seine Kinder verfassten Geschichte namens „Der kleine Hobbit“ wurde ein Bestseller. Tolkien’s Absicht war es, mit seinen Geschichten Fantasien anzuregen und dem Publikum einen kurzen Ausbruch aus der Realität zu ermöglichen. Gleichzeitig sollte dem Zuschauer durch das gute Ende der Geschichte ein Gefühl der Zufriedenheit und Zuversicht vermittelt werden, die in den Alltag des Zuschauers mitgenommen werden kann (Cuntz-Leng, 2017). Nachdem seine Leser nach einer Fortsetzung verlangten, erschien diese schließlich in Form seines Meisterwerks „Der Herr der Ringe”.

##2.2 Entstehung von „Der kleine Hobbit”
Die weltbekannten Bücher „Der kleine Hobbit“, „Der Herr der Ringe“ sowie „Das Silmarillion“ Tolkiens haben die Fantasy-Literatur entscheidend geprägt und wurden in über 40 Sprachen übersetzt (getabstract, 2014). Er gilt als Begründer des Fantasy-Genres und die Millionen von Lesern werden seither von den Ereignissen in Mittelerde in Atem gehalten. Es wird vermutet, dass Tolkien Ende der 1920er Jahre die Idee für den Hobbit hatte. Er arbeitete zu diesem Zeitpunkt bereits an seiner großen Mittelerde-Mythologie und versuchte sich gleichzeitig an anderen Fantasy-Geschichten. Der erste Satz seines neuen Werkes entstand mehr zufällig als geplant. Denn da kritzelte er gedankenverloren folgende Zeile auf zwei leere Seiten bei den Prüfungsarbeiten seiner Studenten: „In einer Höhle in der Erde, da lebte ein Hobbit“ (Lippold, 2013). Dies war der Beginn des 310-seitigen Klassikers.
Obwohl die eigentliche Arbeit an dem Roman wahrscheinlich im Jahr 1930 begann, erinnerten sich Tolkiens Söhne später daran, dass ihr Vater ihnen schon zuvor von Hobbits erzählt hatte. Denn dass die Welt der Hobbits nach Tolkiens Tod nicht in Vergessenheit geriet, verdankt er mitunter ihnen (Hobbitpresse, 2018). Seinen Kindern erzählte er gern fantastische Geschichten und ursprünglich war die Welt der Hobbits ebenfalls als Märchen für Tolkiens Kinder konzipiert. Dementsprechend enthielt sie auch viele Elemente einer typischen Kindergeschichte. Und auch hier begann er stets mit dem Satz „In einer Höhle in der Erde, da lebte ein Hobbit“ (Tolkien, 2012, S.7). Aus diesem Satz entstand auch später ein Kinderbuch, das Tolkien 1937 veröffentlichte.
Nachdem ein Publikationsversuch in Deutschland in den 1930er Jahren allerdings scheiterte, war das Buch erst nach dem Zweiten Weltkrieg zu haben. „Der kleine Hobbit" unterscheidet sich von dem 1954 publizierten „ Der Herr der Ringe” in Stil und Umfang (Hobbitpresse, 2018). In Sachen Komplexität und Tiefgründigkeit ist es ihm jedoch unterlegen, gleichwohl: Das Buch besticht durch seine epische Breite und erhält seine Lebendigkeit nicht zuletzt durch die Einbettung in den größeren Zusammenhang der Mythenwelt Mittelerdes. In diesem Zusammenhang wollte Tolkien nachträglich auch den Hobbit stellen. Um es somit näher an die Ring-Erzählung zu rücken, überarbeitete er das Buch für spätere Auflagen.

##2.3 Handlung „Der kleine Hobbit”

Erfolgreiche Filme gibt es viele. Eine Filmreihe, die neben Klassikern wie „Titanic” oder „Forrest Gump” ebenfalls genannt werden muss, ist die „Der Herr der Ringe”-Trilogie. Nachdem sich die Trilogie als Kassenschlager erwies, entschied man sich neun Jahre später auch das Prequel Tolkiens zu „Der Herr der Ringe”, „Der Hobbit”, als Film zu adaptieren (Tolkienwelt, 2016). Als Vorlage diente hierfür der bereits 1937 erschienene Roman des englischen Sprachprofessors John Ronald Reuel Tolkien (Bronson, Irwin, & Bülles, 2012). Mit dem Buch „Der kleine Hobbit” erschuf er das gigantische Tolkiensche Fantasy-Universum. Der Roman ist weitgehend in Episoden unterteilt und folgt dem Muster einer klassischen Heldenreise. Die fiktive Figur, der Hobbit Bilbo Beutlin, wird von dem Zauberer Gandalf aus seinem idyllischen Leben gerissen und erlebt mit 13 Zwergen einige Abenteuer, die sie durch die Landschaften Mittelerdes führen und auf unterschiedliche Kreaturen und Völker wie Trolle, Elben und Orks, antreffen lassen (Tolkien, 2012). Am Schluss wird der Drache Smaug besiegt und der Schatz - das Erbe der Zwerge - zurückerobert.

##2.4 Abweichungen vom Buch

Die Frage, wie man aus dem 310 Seiten langen Buch „Der kleine Hobbit“ eine Filmtrilogie erzeugen kann, stellen sich wohl viele Tolkien-Fans. Und so auch wir. Für uns war klar, dass sich die Handlung der Filme auf jeden Fall teilweise von der des Buches unterscheiden muss, da basierend auf einem kleinen Buch ein neunstündiges Filmmaterial entstanden ist. Die Hauptgeschichte wurde zwar nicht verändert, jedoch wurden neue Charaktere, kleine Neuerungen wie Nebengeschichten und eigene Ideen des Regisseurs Peter Jackson hinzugefügt (chill-mit-film.de, 2014). Der Regisseur wollte seiner Fantasie freien Lauf lassen und vor eigenen Kreationen keinen Halt machen, denn auch ihm war bewusst, dass ein einzelner Roman nicht genügend Material für eine Trilogie bietet. Ein Grund hierfür ist beispielsweise, dass das Buch „Der kleine Hobbit“ von einer Erzählerstimme vorgetragen wird, was ein Film allerdings nicht ermöglicht (Borcholte, 2013). So benötigte der Film mehr Figuren, um mehr Dramatik zu erzeugen. Also wurde zum Beispiel der Ork Azog in den Hobbit Verfilmungen zu einem Hauptcharakter, während er im Roman nur flüchtig erwähnt wurde. Ebenso die Waldelbin Tauriel aus dem Düsterwald oder der Elbenprinz Legolas. Sie existieren ausschließlich in der Filmreihe. Legolas’ Vater Thranduil der Elbenkönig hat bei Tolkien nicht einmal einen Namen.

#3.Forschungsstand der empirischen und theoretischen Literatur 

Eine Auswahl an wissenschaftlichen Quellen oder Studien existiert zu diesem Thema nicht, da die Geschichte rein fiktiv ist und nicht auf einer wahren Begebenheit basiert. Da die Filme und Bücher weltweit bekannt sind, gibt es eine Vielzahl an Forschungsarbeiten, die große Ähnlichkeiten zu unserer eigenen aufweisen. Allerdings beziehen sich diese vermehrt auf die Nachgeschichte des Hobbits, nämlich die „ Der Herr der Ringe” Trilogie. Dies kann zum Teil daran liegen, dass die Geschichte von „ Der Herr der Ringe“ Jahre vor dem Hobbit verfilmt wurde und somit schon viel früher für Aufmerksamkeit gesorgt hat. Neben unserer eigenen Präferenz war das ein zusätzlicher Grund, weshalb wir uns eher für die Geschichte des Hobbits entschieden haben. Vergleicht man die beiden Trilogien, lassen sich zu „Der Herr der Ringe” deutlich mehr Analysen bezüglich der Filme, Handlung und Charaktere finden. 
Eine davon ist auf der Webseite „Analysing Lord of the Rings trilogy with Data Science” unter dem Link https://nab-88.github.io/social-graphs-and-interactions/ zu finden. Hier wurde ein Gesamtnetzwerk erstellt, welches jeden einzelnen Charakter beinhaltet. Dieses zeigt zum einen auf, wie die einzelnen Personen untereinander verknüpft sind und in welcher Beziehung sie zueinander stehen. Aus so einem Netzwerk lassen sich mit den richtigen Analyse-Tools aussagekräftige Informationen bezüglich der Person mit den meisten Verbindungen oder der Zentralität herauslesen. Eine Forschungsarbeit, die sich mehr mit den Hintergründen der Hobbit-Filme auseinandergesetzt hat, ist auf folgender Webseite zu finden: http://fisherankney.com/text-mining-the-hobbit. Hier wurde anhand von rstudio zum einen untersucht, wie oft auserwählte Wörter vorkommen und von wem sie geäußert wurden. Zum anderen wurde hier gemessen, wie häufig die einzelnen Figuren in den Filmen vorkommen.
Unser Gesamtnetzwerk soll einen ersten Eindruck über die Anzahl der verschiedenen Figuren schaffen. Daran wird auf den ersten Blick erkennbar sein, welche Figuren zur Hauptrolle gehören und welche Figuren eine kleinere Nebenrolle einnehmen. Damit die Daten noch aussagekräftiger dargestellt werden, haben wir uns dazu entschlossen, zusätzlich noch einzelne Gruppenkonstellationen zu visualisieren.

Damit sich unsere eigene Forschungsarbeit klar von den bestehenden unterscheidet, möchten wir in einem weiteren Netzwerk die Unterschiede zwischen Film und Buch darstellen. Hierfür haben wir uns Locations, die sowohl im Film als auch im Buch vorkommen ausgesucht und untersucht, welche Figuren im Film vor Ort waren und welche im Buch genannt werden. Da wir uns nicht nur auf ein Netzwerk, sondern auf zwei fokussieren, passen wir dementsprechend auch unsere Arbeitshypothesen an.

##3.1 Arbeitshypothesen bezüglich des Gesamtnetzwerks:

Wir gehen davon aus, dass es viele Clusterbildungen durch Charaktere wie Gandalf, Bilbo und Thorin gibt.
Wir gehen davon aus, dass die weiblichen Charaktere im Film in der Minderheit sind und die männlichen Charaktere die Mehrzahl darstellen.

##3.2 Arbeitshypothesen bezüglich der Netzwerke welche die Unterschiede zwischen Film und Buch aufweisen:

Wir gehen davon aus, dass Bilbo sowohl im Film als auch im Buch ein Schlüsselcharakter ist.
Wir gehen davon aus, dass im Film mehr Locations als im Buch erwähnt werden.
Wir gehen davon aus, dass im Film mehr Charaktere gezeigt werden als im Buch.
Wir gehen davon aus, dass sowohl im Film als auch im Buch Liebesgeschichten existieren.


#4. Datenerhebung: Zugang, Bereinigung und Codebuch

Der Vergleich des Romans „Der kleine Hobbit“ und die Filmtrilogie wurde bisher noch nicht untersucht bzw. visualisiert. Jedoch ist bekannt, dass Unterschiede in den Filmen im Vergleich zum Buch existieren, weshalb wir das Medium Buch sowie Film genauer untersucht haben. Für die Datenerhebung hat jedes Gruppenmitglied im Zeitraum der Semesterferien das Originalbuch „Der kleine Hobbit“ von J.R.R. Tolkien gelesen, um auf demselben Stand zu sein. Zuerst wurde systematisch überlegt, wie das Netzwerk aussehen soll und welche Attribute wir in der Edge- und Nodelist vergeben möchten. Alle Charaktere aus dem Originalbuch wurden in die Nodelist eingepflegt und den jeweiligen Attributen zugeteilt. Da in der Literatur viele Informationen der Charaktere nicht recherchierbar waren, betrieb jedes Gruppenmitglied eigene und intensive Internetrecherche, um an weitere Hintergrundinformationen zu gelangen. Bei der Edgeliste haben wir die Beziehung jedes Charakters mit allen anderen Charakteren verglichen, eingepflegt und weitere Attribute zugeteilt. Eine zweite Edgeliste wurde angelegt und zur Bearbeitung nach dem Attribut „Location” den Gruppenmitgliedern zugeteilt. Teilweise bedienten wir uns am Buch und am Film und haben im Anschluss die Ergebnisse in die Liste eingetragen. Eine große Datenbank war das Ergebnis unserer Forschung, da viel Zeit in die Datenerhebung sowie Recherche investiert wurde. Bei der großen Internetrecherche waren unsere Quellen folgende: 

https://www.google.de/amp/s/www.sf-fan.de/aktuelle-meldungen/der-hobbit-ein-uberblick-uber-die-figuren.html/amp
https://lotr.fandom.com/de/wiki/Thorin_%26_Co
http://www.tolkienwelt.de/mittelerde/voelker-und-rassen/die-zwerge-die-kinder-aules.html
https://lotr.fandom.com/de/wiki/Der_Hobbit:_Eine_unerwartete_Reise
http://ardapedia.herr-der-ringe-film.de/index.php/Hobbits

Das [Codebuch](https://github.com/adrianonicolosi/hobbit_netzwerk/blob/master/codebuch.md) beschreibt die Variablen, Relationen und Gewichte des Netzwerks und ist ebenfalls auf Github hinterlegt.

Der hinterlegte Github-Account: [Github](https://github.com/adrianonicolosi/hobbit_netzwerk) 

# 5. Analyse und Interpretation

## 5.1 Einlesen der CSV Daten 
```{r Gesamnetzwerk erstellen, echo=FALSE, message=FALSE, warning=FALSE, paged.print=TRUE}
#Läd die Installationspackages
library(igraph)
library(igraphdata)
library(rmarkdown)
library(knitr)
library(remedy)
library(snahelper)

# Erstellt das Netzwerk aus der Edge- und Nodelists.


# Akteursnetzwerk

el <- read.csv("https://raw.githubusercontent.com/adrianonicolosi/hobbit_netzwerk/master/226305%20Hobbit%20Netzwerk%20Edgelist%20Network.csv", header=T, as.is=T, sep = ",")
nodes <- read.csv("https://raw.githubusercontent.com/adrianonicolosi/hobbit_netzwerk/master/226305%20Hobbit%20Netzwerk%20Nodelist%20csv", header=T, as.is=T, sep = ",")

# Matrix erstellen
edgematrix <-as.matrix(el)

# Zusammenführen von Edge- und Nodelist als igraph-Objekt

hn <- graph_from_data_frame(d=edgematrix, vertices=nodes, directed=T)


E(hn)$arrow.size <- .3
hn

```
Das Hobbit-Gesamtnetzwerk umfasst 65 Knoten und 1361 Beziehungen. Es ist gerichtet und gewichtet.

```{r Edgeliste Location einlesen}

# Edgielist aus Github einlese

el_lo <- read.csv("https://raw.githubusercontent.com/adrianonicolosi/hobbit_netzwerk/master/226305%20Hobbit%20Netzwerk%20Edgeliste%20Location.csv", header=T, as.is=T, sep = ",")

# Matrix erstellen
edgematrix <-as.matrix(el_lo)

# Zusammenführen von Edgelist als igraph-Objekt

hlo <- graph_from_data_frame(d=edgematrix, directed=T)


E(hlo)$arrow.size <- .3
hlo

```

Das Locationnetwerk umfasst 151 Beziehungen. Es ist gerichtet und gewichtet.

## 5.2 Netzwerkattribut prüfen

```{r Übersicht Netzwerkattribute}

# Ein kurzen Check der Vertex- und Edge-Attribute des Gesamtnetzwerks

list.vertex.attributes(hn)
vertex.attributes(hn)
list.edge.attributes(hn)
edge.attributes(hn)
is.connected(hn)

# Ein kurzen Check der Edge-Attribute aus dem Locationnetzwerk
list.edge.attributes(hlo)
edge.attributes(hlo)
is.connected(hlo)

```
Hier werden die Edge- und Node-Attribute nochmal in den einzelnen Kategorien aufgelistet.

## 5.3 Plot des Gesamtnetzwerkes mit den verschiedenen Beziehungen
```{r Plot des Gesamtnetzwerkes Beziehungen, fig.height=10, fig.width=10}

#Selektiert alle Knoten mit einem Degree von 0 raus
Isolated = which(degree(hn)==0)
#Erstellt ein Netzwerk mit Knoten von >0 Degree
hn_de= delete.vertices(hn, Isolated)

#Färbt den Edge-Attribut relationship in den ausgewählten Farben ein 
E(hn)[E(hn)$relationship == 1]$color <- "blue" # Freundschaft
E(hn)[E(hn)$relationship == 2]$color <- "green" # Allianz
E(hn)[E(hn)$relationship == 3]$color <- "red" # Feind
E(hn)[E(hn)$relationship == 4]$color <- "yellow" # Familie
E(hn)[E(hn)$relationship == 5]$color <- "brown" # Fremde
E(hn)[E(hn)$relationship == 6]$color <- "purple" # Liebe

#Färbt die Punkte von der Legende in den Ausgewählten Farben ein
col_sex <- c("blue", "green", "red", "yellow", "brown", "purple")
#Fügt der Legende den passenden Text hinzu
sex <- c("Freundschaft", "Allianz", "Feind", "Familie", "Fremde", "Liebe")

#Plot des Gesamtnetzwerkes
plot(hn_de,
     vertex.color ="orange",
     vertex.label=V(hn)$real_name,
     layout=layout_with_kk,
     vertex.size=degree(hn)/10,
    main="Gesamtnetzwerk The Hobbit")


#Erstellung der Legende
legend(x=0.7, # Position auf der X-Achse
       y=-0.7, # Position auf der Y-Achse
       legend = sex, # ausgegeben wird der Vector "geschlecht"
       col = col_sex, # Farbcodierung nach Vector colrs
       text.col= col_sex, # Farbe der Legende in der Farbe des Vectors
       bty = "n", # verhindert, dass eine Box gezogen wird
       pch=20, # plotting characters: definiert einen Kreis
       pt.cex =5, # definiert die Textgröße
       cex = 2, # skaliert die gesamte Legende
       inset = c(0.1, 0.1) # rückt die Legende leicht ein.
       )
```
Dieses Netzwerk zeigt die Beziehungen aller Film-Charaktere des Hobbit-Universums untereinander. Deutlich erkennbar ist, dass viele Beziehungen auf Allianzen basieren, während ebenso viel Feindschaft existiert. Freundschaften sind in diesem Universum rar und Liebesbeziehungen sucht man fast vergeblich.
```{r Plot des Gesamtnetzwerkes Rassen, fig.height=11, fig.width=10}

#Selektiert alle Knoten mit einem Degree von 0 raus
Isolated = which(degree(hn)==0)
#Erstellt ein Netzwerk mit Knoten von >0 Degree
hn_de= delete.vertices(hn, Isolated)

#Färbt den Edge-Attribut origin in den ausgewählten Farben ein 
V(hn)[V(hn)$origin == 1]$color <- "blue" # Hobbit
V(hn)[V(hn)$origin == 2]$color <- "green" # Elb
V(hn)[V(hn)$origin == 3]$color <- "purple" # Ork
V(hn)[V(hn)$origin == 4]$color <- "pink" # Mensch
V(hn)[V(hn)$origin == 5]$color <- "red" # Zwerg
V(hn)[V(hn)$origin == 6]$color <- "grey" # Istari
V(hn)[V(hn)$origin == 7]$color <- "darkgreen" # Hautwechsler
V(hn)[V(hn)$origin == 8]$color <- "yellow" # Maia
V(hn)[V(hn)$origin == 9]$color <- "orange" # Troll
V(hn)[V(hn)$origin == 10]$color <- "gold" # Drache
V(hn)[V(hn)$origin == 11]$color <- "brown" # Nazgul


#Färbt die Punkte von der Legende in den Ausgewählten Farben ein
col_sex <- c("blue", "green", "purple", "pink", "red", "grey", "darkgreen", "gold", "orange", "gold", "brown")
#Fügt der Legende den passenden Text hinzu
sex <- c("Hobbit", "Elb", "Ork", "Mensch", "Zwerg", "Istari", "Hautwechsler", "Maia", "Troll", "Drache", "Nazgul")

#Plot des Gesamtnetzwerkes
plot(hn_de,
     vertex.label.color="black",
     vertex.label=V(hn)$real_name,
     edge.color="grey",
     layout=layout_with_kk,
     vertex.size=degree(hn)/10,
    main="Gesamtnetzwerk The Hobbit nach Herkunft")


#Erstellung der Legende
legend(x=0.7, # Position auf der X-Achse
       y=-0.7, # Position auf der Y-Achse
       legend = sex, # ausgegeben wird der Vector "geschlecht"
       col = col_sex, # Farbcodierung nach Vector colrs
       text.col= col_sex, # Farbe der Legende in der Farbe des Vectors
       bty = "n", # verhindert, dass eine Box gezogen wird
       pch=20, # plotting characters: definiert einen Kreis
       pt.cex =5, # definiert die Textgröße
       cex = 2, # skaliert die gesamte Legende
       inset = c(0.1, 0.1) # rückt die Legende leicht ein.
       )
```
In diesem Graphen ist deutlich erkennbar, dass die Zwerge den Großteil der Charaktere ausmachen. Sie stellen zudem, wie bereits vermutet, den zentralen Kern dar. Dicht gefolgt von den Orks. Der Anteil von Elben und Menschen ist ungefähr ausgeglichen, während Smaug als einziger den Drachen angehört.

## 5.4 Zentralitätsmaße

Wichtige Erkenntnisse für unsere Analyse erhalten wir anhand von:

* Dichte (density)
* Durchmesser (diameter)
* Pfaddistanz (path_distance)
* Distanz (mean_distance)
* Reziprozität (reciprocity)
* Degree (indegree/outdegree)
* Betweenness (betweenness)
* Closeness (closeness)


``` {r Dichte des Gesamtnetzwerks}

## Dichte des Gesamtnetzwerks
edge_density(hn, loops=FALSE)
## Dichte des Locationnetzwerks
edge_density(hlo, loops=FALSE)
```

In unserem Gesamtnetzwerk sind 32,71% der Beziehungen zwischen den Knoten realisiert. Das ist ein hoher prozentualer Anteil an Verbindungen zwischen einzelnen Knoten. Es zeigt also, dass knapp ein Drittel der Knoten eine Beziehung zueinander haben.

```{r Durchmesser und Distanz des Gesamznetzweks}
## Umfang des Netzwerks
get.diameter(hn)

#Gibt die durchschnittliche Länger der Verbindung zwischen zwei Knoten an
mean_distance(hn)

## Pfaddistanzen (Distance)
farthest_vertices(hn)
```

Der längste Pfad der durch das Netzwerk verläuft ist durch : "Girion Fürst von Thal" ->  Tilda Tochter von Bard" -> "Dori der Narr" -> "Elrond" ->"Lindir" 
Das bedeutet, dass Girion Fürst von Thal und Lindir am weitesten von einander entfernt sind. Die Distanz zwischen den beiden beträgt fünf Schritte. Die geringe Schrittzahl bestätigt die hohe Dichte des Netzwerkes. 

Das Gesamtnetzwerk weißt nur eine Componente auf, bei den alle Knoten miteinander verbunden sind. Die durchschnittliche Länge um zwei Knoten miteinander zu Verbinden sind 1,68 Schritte.

```{r Reziprozität}
## Reziprozität des Netzwerks
reciprocity(hn, mode = "ratio")
```
Reziprozität meint die Wechselseitigkeit von Beziehungen. Die Reziprozität des Gesamtnetzwerkes beträgt 80,2 %. Dies bedeutet, dass unter den Akteuren ein hoher Austausch stattfindet.


```{r Zentralitätsmaße}
#Indegree = Anzahl der Kanten, die auf einen Knoten eingehen. (Popularität)
degree(hn, mode = "in", normalized = TRUE)
centr_degree(hn, mode = "in", normalized = T)

#Outdegree = Anzahl der Kanten, die ein Knoten zu anderen Knoten hat. (Aktivität)
degree(hn, mode = "out", normalized = T)
centr_degree(hn, mode = "out", normalized = T)

#Zeigt den Knoten an mit dem höchsten Degreewert 
which.max(degree(hn))

#Components zeigt die Anzahl der Teilnetzwerke und deren Größe an
components(hn)

#Wie wahrscheinlich ist es, dass dieser Knoten die Verbindung zu anderen Knoten im Netzwerk herstellen kann? 
betweenness(hn, normalized = T)

#Zeigt den Knoten mit dem höchsten Betweenesswert an
which.max(betweenness(hn))

#Wie schnell kann dieser Knoten alle anderen Knoten im Netzwerk erreichen?
closeness(hn)

```
Indegreewerte (Popularität):
Bilbo: 75
Thorin: 73
Kili: 68
Fili: 68
Balin 68
Oin:68
Gloin:68
Ganfalf:67
Bard: 40

Outdegreewerte (Aktivität):
Bilbo: 73
Thorin: 70
Kili: 67
Fili: 67
Balin 65
Oin:65
Gloin:65
Ganfalf:62
Bard: 32

Wie man an den Werten erkennen kann ist Bilbo, gefolgt von seinen zwergischen Gefährten, der Charakter, mit den sowohl meisten Aktivitäten zu anderen Knoten als auch der zentrale Hauptknoten, zu dem die meisten Knoten eine Verbindung suchen. 

Bilbo mag zwar den höhsten Degree-Wert haben, Gandalf hat allerdings den höchsten Closness-Wert und ist damit am schnellten bei allen anderen Knoten.

# 6. Teilnetzwerke

## 6.1 Ego-Netzwerk

```{r Ego-Netzwerk}

# Färbt alle weibliche und männliche Knoten blau.
V(hn)[V(hn)$sex =="1"]$color <- "blue" # Hobbit
V(hn)[V(hn)$sex =="2"]$color <- "blue" # Hobbit

#Färbt alle Knoten mit dem Attribut homeland gelb ein
V(hn)[V(hn)$homeland =="10"]$color <- "yellow" 

#Färbt Radagast der Brauen wieder blau ein
V(hn)[V(hn)$name =="Radagast der Braune"]$color <- "blue" 


# Selektiert aus dem Netzwerk hn alle Knoten, die mit dem Knoten Gandalf der Graue über einen Schritt verbunden sind.
gandalf <- make_ego_graph(hn, order = 1, nodes = V(hn)$name == "Gandalf der Graue", mode ="all")

# Liefert eine Liste mit den Verbdinungen zwischen Gandalf und den restlichen Aktueren
gandalf


# Man benötigt diesen Zwischenschrit, damit das igraph-Objekt von gandalf_ego hergestellt wird
gandalf_ego <- gandalf[[1]]
gandalf_ego


# Erstellung des Plots 
plot(
        gandalf_ego,
        main = "Ego-Netzwerk von Gandalf dem Grauen",
        layout=layout_with_kk,
        edge.arrow.size = .1,
        asp = 0,
        vertex.size = 3,
        vertex.label.cex = 0.3,
        vertex.label.dist = 1,
        vertex.frame.color="NA",
        edge.width = 0.1,
        edge.color="grey",
        edge.arrow.size = 0.1,
        edge.curved = curve_multiple(hn),)

```
In diesem Ego-Netzwerk wird aufgezeigt wie Gandalf der Graue mit den anderen Akteuren vernetzt ist. Es lässt sich erkennen, dass er einen Schlüsselcharakter darstellt und viele Figuren miteinander verbindet. Das liegt daran, dass er die Gruppenkonstellation zusammengestellt hat, indem er Bilbo für die Reise auserwählte und mit den Zwergen in Verbindung gebracht hat. Zudem hat Gandalf mit allen Rassen eine Verbindung und kann somit auch Knoten informieren, mit denen er keine Verbindung hat.

# 6.2 Cluster

```{r Prüfung verbundener Cluster}
# Anzahl der Clusters
clusters(hn_de)

# Sind die Cluster miteinander verbunden?
is_connected(hn_de)
```
Hier überprüfen wir, ob die Cluster miteinander verbunden sind und welche Akteure darin involviert sind.
```{r Cluster Gesamtnetzwerk, fig.height=7, fig.width=8}
#Selektiert alle Knoten mit einem Degree von 0 raus
Isolated = which(degree(hn)==0)
#Erstellt ein Netzwerk mit Knoten von >0 Degree
hn_de= delete.vertices(hn, Isolated)

#Erzeugt ein Cluster von dem Gesamtnetzwerk
hobbit_clu <- cluster_walktrap(hn_de)

# Erstellung des Plots
plot(
  hobbit_clu,
  hn_de,
  vertex.label=V(hn)$real_name,
  vertex.size = 5,
  layout = layout_nicely,
  asp = 0,
  edge.arrow.size = 0.4,
  main="Cluster vom Gesamtnetzwerk"
)

```
In diesem Netzwerk wird das Cluster visualisiert. Belladonna Beutlin und Frodo bilden beispielsweise eine Dyade, Gollum und Tosser Grubb haben jeweils nur eine Verbdindung zum Gesamtnetzwerkes, während die Zwerge in der Mitte die größte Clique darstellen.

# 6.3 Visualisierung der Pfaddistanz
```{r Pfaddistanz, fig.height=8, fig.width=10}

#Selektiert alle Knoten mit einem Degree von 0 raus
Isolated = which(degree(hn)==0)
#Erstellt ein Netzwerk mit Knoten von >0 Degree
hn_de= delete.vertices(hn, Isolated)

# Visualisierung der Pfaddistanz
hn_dia <- get.diameter(hn_de, directed = T) # ruft die Werte auf
vcol <-
  rep("gray", vcount(hn_de)) # setzt alle Werte der Knoten auf grau
vcol[hn_dia] <- "magenta" # setzt alle Vertices auf magenta
hn_col <-
  rep("gray", ecount(hn_de)) # setzt alle Kanten auf grau
hn_col[E(hn_de, path = hn_dia)] <-
  "magenta" # definiert die Farbe des Pfads
# sucht die Kanten entlang des Pfades und färbt diese ein
plot(
  hn_de,
  asp = 0,
  layout = layout_nicely,
  vertex.color = vcol,
  vertex.size = 5,
  vertex.label.cex=1,
  vertex.label.dist = 0,
  edge.width = 1.5,
  edge.color = hn_col,
  edge.arrow.size = .2,
  edge.curved = .2,

  main = "Diameter im Netzwerk",
  sub = "Durchmesser auf dem kürzesten Weg"
)
```
Durch diese Visualisierung zeigen wir noch einmal, wie schon oben erwähnt, die längste Pfaddistanz zwischen den Knoten. Diese sind "Girion Fürst von Thal" ->  "Tilda Tochter von Bard" -> "Dori der Narr" -> "Elrond" ->"Lindir".

#6.4 Vergleich der Charaktere aus Buch und Film
```{r Teilnetzwerk Knoten aus Buch und Film, fig.height=8, fig.width=8}
#Selektiert die Knoten, die nicht im Buch vorkommen raus
charakterebuch <- delete_vertices(hn, V(hn)[medium != "2"])
charakterebuch 
#Selektiert die Knoten, die sowohl im Film als auch im Buch vorkommen raus
charakterefilm <- delete_vertices(hn, V(hn)[medium != "3"])
charakterefilm

# Erstellung des Plots
plot(charakterebuch,
     vertex.color="darkgreen",
     vertex.label.cex=0.8,
     edge.width=0,
     edge.arrow.size=0,
    layout = layout_in_circle,
    main="Charaktere, die nicht im Buch vorkommen",
    sub="n=26")
# Erstellung des Plots
plot(charakterefilm,
     vertex.color="red",
     vertex.label.cex=0.8,
     edge.width=0,
     edge.arrow.size=0,
    layout = layout_in_circle,
    main="Charaktere, die sowohl im Buch als auch im Film vorkommen",
    sub="n=36")

```
Hierbei kristallisiert sich heraus, dass die Anzahl der gemeinsamen Charaktere des Buches und der Filmreihe bei 36 liegt. Allerdings gibt es 26 Figuren, die ausschließlich in der Verfilmung existieren.

#6.5 Zeitspanne
```{r Zeitspanne, fig.height=9, fig.width=16}

#Färbt den Edge-Attribut origin in den ausgewählten Farben ein 
V(hn)[V(hn)$origin == 1]$color <- "blue" # Hobbit
V(hn)[V(hn)$origin == 2]$color <- "green" # Elb
V(hn)[V(hn)$origin == 3]$color <- "purple" # Ork
V(hn)[V(hn)$origin == 4]$color <- "pink" # Mensch
V(hn)[V(hn)$origin == 5]$color <- "red" # Zwerg
V(hn)[V(hn)$origin == 6]$color <- "grey" # Istari
V(hn)[V(hn)$origin == 7]$color <- "darkgreen" # Hautwechsler
V(hn)[V(hn)$origin == 8]$color <- "yellow" # Maia
V(hn)[V(hn)$origin == 9]$color <- "orange" # Troll
V(hn)[V(hn)$origin == 10]$color <- "gold" # Drache
V(hn)[V(hn)$origin == 11]$color <- "brown" # Nazgul

#Selektiert die Knoten mit der ersten Zeitspanne raus
zeit <- delete_vertices(hn, V(hn)[time != "1"])
zeit

E(zeit)[E(zeit)$weight == 1]$color <- "gray"
E(zeit)[E(zeit)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit,
  asp = 0,
  vertex.size = 5,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Bilbo trifft auf Gandalf",
  sub= "n=4")

#Selektiert die Knoten mit der zweiten Zeitspanne raus
zeit2 <- delete_vertices(hn, V(hn)[time_zwei != "1"])
zeit2

E(zeit2)[E(zeit2)$weight == 1]$color <- "gray"
E(zeit2)[E(zeit2)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit2,
  asp = 0,
  vertex.size = 4,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit2)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Bilbo und die 13 Zwerge",
  sub= "n=17")

#Selektiert die Knoten mit der dritten Zeitspanne raus
zeit3 <- delete_vertices(hn, V(hn)[time_drei != "1"])
zeit3

E(zeit3)[E(zeit3)$weight == 1]$color <- "gray"
E(zeit3)[E(zeit3)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit3,
  asp = 0,
  vertex.size = 4,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = 0.7,
  edge.width = E(zeit3)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Aufbruch nach Bruchtal",
  sub= "n=28")

#Selektiert die Knoten mit der vierten Zeitspanne raus
zeit4 <- delete_vertices(hn, V(hn)[time_vier != "1"])
zeit4

E(zeit4)[E(zeit4)$weight == 1]$color <- "gray"
E(zeit4)[E(zeit4)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit4,
  asp = 0,
  vertex.size = 4,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit4)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Düsterwald und Waldelben",
  sub= "n=38")

#Selektiert die Knoten mit der fünften Zeitspanne raus
zeit5 <- delete_vertices(hn, V(hn)[time_fünf != "1"])
zeit5

E(zeit5)[E(zeit5)$weight == 1]$color <- "gray"
E(zeit5)[E(zeit5)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit5,
  asp = 0,
  vertex.size = 4,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit5)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Seestadt",
  sub= "n=45")

#Selektiert die Knoten mit der sechsten Zeitspanne raus
zeit6 <- delete_vertices(hn, V(hn)[time_sechs != "1"])
zeit6

E(zeit6)[E(zeit6)$weight == 1]$color <- "gray"
E(zeit6)[E(zeit6)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit6,
  asp = 0,
  vertex.size = 4,
   vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit6)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Eroberung Erebors",
  sub= "n=56")

#Selektiert die Knoten mit der siebten Zeitspanne raus
zeit7 <- delete_vertices(hn, V(hn)[time_sieben != "1"])
zeit7

E(zeit7)[E(zeit7)$weight == 1]$color <- "gray"
E(zeit7)[E(zeit7)$weight == 2]$color <- "red"

# Erstellung des Plots
plot(zeit7,
  asp = 0,
  vertex.size = 4,
  vertex.label.cex = 1.1,
  vertex.label.dist = 0.8,
  edge.width = E(zeit7)$weight,
  edge.arrow.size = 0,
  edge.curved = curve_multiple(hn),
  main = "Krieg der fünf Heere",
  sub= "n=59")
```
Hier sieht man den zeitlichen Verlauf der Geschichte. Die Graphen zeigen an, welche Charaktere mit der Zeit dazustoßen. 

#6.6 Geschlechterverteilung 
```{r Hobbitakteure nach Geschlechter getrennt, fig.height=9, fig.width=16}

#Selektiert alle Knoten mit einem Degree von 0 raus
Isolated = which(degree(hn)==0)
#Erstellt ein Netzwerk mit Knoten von >0 Degree
hn_de= delete.vertices(hn, Isolated)

#Erstellt ein Netzwerk aus weiblichen und männlichen Knoten
sex_both <- hn_de
V(hn)[V(hn)$sex == 1]$color <- "pink" # Weiblich
V(hn)[V(hn)$sex == 2]$color <- "lightblue" # Männlich

#Färbt die Punkte von der Legende in den Ausgewählten Farben ein
col_sex <- c("pink", "lightblue")
#Fügt der Legende den passenden Text hinzu
sex <- c("weiblich", "männlich")


#Erstellung des Plots
plot(
  sex_both,
  asp = 0,
  vertex.size = 4,
  vertex.label=NA,
  vertex.label.cex = 0.8,
  vertex.label.dist = 1,
  edge.width = 0.7,
  edge.color="grey",
  edge.arrow.size = .1,
  edge.curved = curve_multiple(hn),
  main = "Geschlechter beim Hobbit",
  sub= "n 59"
)

#Erstellung der Legende
legend(x=0.7, # Position auf der X-Achse
       y=-0.7, # Position auf der Y-Achse
       legend = sex, # Ausgegeben wird der Vector "geschlecht"
       col = col_sex, # Farbcodierung nach Vector colors
       text.col= col_sex, # Farbe der Legende in der Farbe des Vectors
       bty = "n", # Verhindert, dass eine Box gezogen wird
       pch=20, # Plotting characters: definiert einen Kreis
       pt.cex = 10, # Definiert die Textgröße
       cex = 4, # Skaliert die gesamte Legende
       inset = c(0.1, 0.1) # Rückt die Legende leicht ein.
       )
```
In diesem Netzwerk haben wir den Vergleich von männlichen und weiblichen Figuren im Film und deren Vernetzung zueinander hergestellt. Wie man unschwer erkennen kann überwiegt der männliche Anteil sehr. Es sind nur sieben weibliche Charaktere vorhanden.

```{r Nur männliche Akteure im Hobbitnetzwerk, fig.height=9, fig.width=16}
#Erstellt ein Netzwerk nur aus männlichen Knoten
hobbit_men <- delete.vertices(hn, V(hn)[(sex != 2)])
hobbit_men

#Erstellung des Plots 
plot(
  hobbit_men,
  layout=layout_components,
  asp = 0,
  vertex.size = 5,
  vertex.color= "lightblue",
  vertex.label.cex = 1.1,
  vertex.label.dist = 0,
  edge.width = 0.7,
  edge.color= "grey",
  edge.arrow.size = .1,
  edge.curved = curve_multiple(hn),
  main = "Männliche Akteure im Hobbit Universum"
)
#Wie wahrscheinlich ist es, dass dieser Knoten die Verbindung zu anderen Knoten im Netzwerk herstellen kann
betweenness(hobbit_men, normalized = F)
#Wie schnell kann dieser Knoten alle anderen Knoten im Netzwerk erreichen
close_women <- closeness(hobbit_men, normalized = T)
#Der Befehl prüft, wie hoch die Dichte des Netzwerks ist.
edge_density(hobbit_men)
```
Hierbei lassen sich die Vernetzungen aller männlicher Charaktere der Hobbit-Verfilmung erkennen.

```{r Nur weibliche Akteure im Hobbitnetzwerk, fig.height=9, fig.width=16}
#Erstellt ein Netzwerk nur aus weiblichen Knoten
hobbit_woman <- delete.vertices(hn, V(hn)[(sex != 1)])
hobbit_woman

#Ändert die Form der Knoten von Kreisen in Quadrate
V(hobbit_woman)[V(hobbit_woman)$sex == 1]$shape <- "square"

#Erstellung des Plots
plot(
  hobbit_woman,
  asp = 0,
  vertex.color= "pink",
  vertex.label.color= "blue",
  vertex.size = 6,
  vertex.label.cex = 1.5,
  vertex.label.dist = 0,
  edge.color="grey",
  edge.width = 0.7,
  edge.arrow.size = 0.1,
  main = "Weibliche Aktuere im Hobbit Universum"
)
```
Dieses Netzwerk zeigt die weiblichen Akteure aus der Filmreihe, da im Buch keine weiblichen Figuren mitspielen. Die Charaktere untereinander zeigen keinerlei bzw. kaum Beziehungen auf. Lediglich die menschliche Familie von Bard zeigt eine Verbindung untereinander und mit Tauriel an. 

#6.7 Teilnetzwerke verschiedener Locations

```{r Teilnetzwerk Moria Krieg , message=FALSE, warning=FALSE, paged.print=FALSE}
#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# In den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich der einzelnen Locations
#Moria Krieg
MoriaKriegFilm <- subgraph.edges(hlo, E(hlo)[location==" 1"]) 
MoriaKriegFilm

#Erstellung des Plots
plot(MoriaKriegFilm,
     vertex.size = 15,
     vertex.label.cex = 1.2,
     vertex.color="darkgreen",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 3,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main = "Der Moria Krieg"
     )
```
Der Moria Krieg ist eine Szene, welche nur im Film vorkommt. Daher kann man keinen Vergleich beider Szenen ziehen, sondern fetstsellen, dass dem Film weitere Handlungen hinzugefügt wurden.

```{r Teilnetzwerk Bruchtal, message=FALSE, warning=FALSE, paged.print=FALSE}

#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# in den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich der einzelnen Locations
Bruchtalfilm <- subgraph.edges(hlo, E(hlo)[location==" 2"]) 
Bruchtalfilm

Bruchtalbook <- subgraph.edges(hlo, E(hlo)[book.chapter==" 1"]) 
Bruchtalbook

#Setzt den Rahmen, um zwei Graphen anzeigen zu lassen
par(mfrow=c(1,2), mar=c(2,0,2,1)) 

#Erstellung des Plots
plot(Bruchtalfilm,
     vertex.size = 8,
     vertex.label.cex = 0.7,
     vertex.color="darkgreen",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Bruchtal im Film")

#Erstellung des Plots
plot(Bruchtalbook,
     vertex.size = 8,
     vertex.label.cex = 0.7,
     vertex.color="darkorange",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Bruchtal im Buch")


par(mfrow=c(1,1), mar=c(0,0,0,0))
```
Die Szene in Bruchtal kommt sowohl im Buch als auch im Film vor. Bilbo, die Zwerge und Gandalf sind in beiden Medien vertreten. Allerdigs kommen im Film noch weitere Charaktere hinzu: Galadriel, Elrond, Saruman und Lindir.

```{r Teilnetzwerk Düsterwald, message=FALSE, warning=FALSE, paged.print=FALSE}

#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# in den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich Buch und Film
#Düsterwald und Waldelbenfestung

Duesterwaldfilm <- subgraph.edges(hlo, E(hlo)[location==" 3"]) 
Duesterwaldfilm
Duestwerwaldbook <- subgraph.edges(hlo, E(hlo)[book.chapter==" 2"])
Duestwerwaldbook


#Setzt den Rahmen, um zwei Graphen anzeigen zu lassen
par(mfrow=c(1,2), mar=c(0,0,2,0)) 

#Erstellung des Plots
plot(Duesterwaldfilm,
     vertex.size = 8,
     vertex.label.cex = 0.7,
     vertex.color="darkgreen",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
  main="Düsterwald im Film"
)
#Erstellung des Plots
plot(Duestwerwaldbook,
     vertex.size = 8,
     vertex.label.cex = 0.6,
     vertex.color="darkorange",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main = "Düsterwald im Buch"
)

par(mfrow=c(1,1), mar=c(0,0,0,0))


```
In dieser Location ist der erste große Unterschied zu erkennen. Die Anzahl der Charaktere, die im Film an dieser Stelle zu sehen sind, ist deutlich höher als die Charaktere aus dem Buch. Das liegt daran, dass hier Personen wie beispielsweise Legolas, Tauriel und Narzug auftauchen. Diese Charaktere existieren ausschließlich im Film.

```{r Teilnetzwerk Seestadt, message=FALSE, warning=FALSE, paged.print=FALSE}

#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# in den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich der einzelnen Locations
#Seestadt
Seestadtfilm <- subgraph.edges(hlo, E(hlo)[location==" 4"]) 
Seestadtfilm

Seestadtbook <- subgraph.edges(hlo, E(hlo)[book.chapter==" 3"]) 
Seestadtbook

#Setzt den Rahmen, um zwei Graphen anzeigen zu lassen
par(mfrow=c(1,2), mar=c(2,2,2,2)) 

#Erstellung des Plots
plot(Seestadtfilm,
     vertex.size = 9,
     vertex.label.cex = 0.7,
     vertex.color="darkgreen",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Seestadt im Film")

#Erstellung des Plots
plot(Seestadtbook,
     vertex.size = 9,
     vertex.label.cex = 0.7,
     vertex.color="darkorange",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.2,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Seestadt im Buch")

par(mfrow=c(1,1), mar=c(0,0,0,0))

```
Durch dieses Netzwerk wird vermutlich der größte Unterschied zwischen Film und Buch dargestellt. Während die Seestadt im Buch nur flüchtig erwähnt wird, füllt sie im Film nahezu den gesamten zweiten Teil. Im Film tauchen hier die Elben Legolas und Tauriel auf, welche im Buch überhaupt nicht existieren. Zudem gibt es im Film noch die Menschenfamilie, die ebenfalls eine große Rolle einnimmt. Diese existiert im Buch ebenfalls nicht. Genauso wenig werden die Elben, Zwerge und Menschen im Buch von den Orks angegriffen. Auch dass sich die Zwerge aufteilen mussten, weil Fili verletzt war, findet im Roman nicht statt.

```{r Teilnetzwerk Dol Goldur, message=FALSE, warning=FALSE, paged.print=FALSE}

#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# in den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich der einzelnen Locations
#DolGoldur 

DolGoldur2film <- subgraph.edges(hlo, E(hlo)[location==" 6"]) 
DolGoldur2film

#Erstellung des Plots
plot(DolGoldur2film,
     vertex.size = 8,
     vertex.label.cex = 0.7,
     vertex.color="darkorange",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),main="Dol Goldur")
```
Die Szene in Dol Goldur findet ebenfalls nur im Film statt und hat keine Handlung im Buch. Auch hier gibt es einen Unterschied zwischen den einzelnen Charakteren. Nicht alle sind sowohl im Film als auch im Buch an Ort und Stelle. Der Nekromant aka Sauron nutzte Dol Goldur als Zufluchtsort, um sich wieder zu erholen und wird am Ende des Filmes von Galadriel nach Mordor vertrieben. Diese Szene existiert ebenfalls nur im Film.  
```{r Teilnetzwerk Auenland, message=FALSE, warning=FALSE, paged.print=FALSE}

#Listet die Edge-Atttribute vom Location Netzwerk auf
list.edge.attributes(hlo)
edge.attributes(hlo)$location

# in den einzelnen attributen sind Leerzeichen reincodiert, diese müssen sie entsprechend erfassen, dann geht es auch mit den Locations

#Teilnetzwerke Vergleich der einzelnen Locations
#Auenland Ende
AuenlandEndefilm <- subgraph.edges(hlo, E(hlo)[location==" 7"]) 
AuenlandEndefilm

AuenlandEndebook <- subgraph.edges(hlo, E(hlo)[book.chapter==" 4"]) 
AuenlandEndebook

#Setzt den Rahmen, um zwei Graphen anzeigen zu lassen
par(mfrow=c(1,2), mar=c(2,2,2,1)) 

#Erstellung des Plots
plot(AuenlandEndefilm,
     vertex.size = 10,
     vertex.label.cex = 0.7,
     vertex.color="darkgreen",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.5,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Auenland Ende im Film")

#Erstellung des Plots
plot(AuenlandEndebook,
     vertex.size = 10,
     vertex.label.cex = 0.7,
     vertex.color="darkorange",
     vertex.label.color="blue",
     vertex.frame.color="NA",
     vertex.label.dist = 1.5,
     edge.color= "grey",
     edge.width = 1.5,
     edge.arrow.size = 0.1,
     edge.curved = curve_multiple(hn),
     main="Auenland Ende im Buch")

par(mfrow=c(1,1), mar=c(0,0,0,0))

```
Diese Szene kommt wieder im Buch und Film vor. Der einzige Unterschied zwischen diesen beiden Szenen ist, dass im Buch an dieser Stelle Balin dabei ist. Im Film verarbschiedet sich Bilbo von den Zwergen in Erebor und sieht sie danach nie wieder. 

##7. Zentrale Erkenntnisse, Teamreflexion und Lessons Learned
 
#7.1 Zentrale Erkenntnisse

Durch Netzwerkanalysen werden Akteure untersucht, die soziale Strukturen aufweisen und somit voneinander abhängen (Haas & Malang, 2010). Die Annahme, dass es viele Clusterbildungen durch Charaktere wie Gandalf, Bilbo und Thorin geben wird, die bereits vor Beginn der Forschungsarbeit als Hypothese festgehalten wurde, wurde durch unsere Datenerhebung und -auswertung bestätigt. Im Gesamtnetzwerk ist deutlich zu erkennen, dass Bilbo Beutlin, Gandalf der Graue und auch Thorin Eichenschild zu den Hauptclustern gehören. Dies belegt, dass die drei Figuren soziale Strukturen aufweisen und andere Vernetzungen der Akteure von ihnen abhängig sind.
Unsere zweite Annahme bezog sich auf den Anteil von männlichen und weiblichen Charakteren. Hier stellten wir die Hypothese auf, dass die weiblichen Akteure im Film in der Minderheit sind und die männlichen Charaktere die Mehrzahl darstellen. Die Datenanalyse bestätigte auch das. Anhand unseres Teilnetzwerkes, welches die Anzahl der männlichen und weiblichen Charaktere aufführt, kristallisierten sich nur 7 weibliche Akteure gegen 52 männliche heraus.
Die Hypothese, dass Bilbo Beutlin sowohl im Film als auch in der Literatur einen Schlüsselcharakter darstellt, bekräftigte sich durch die Recherche und das daraus resultierende Netzwerk. Bei der Analyse von Gesamtnetzwerken kann die SNA ihre komplette Leistungsfähigkeit entwickeln, da eigene Maße für das Gesamtnetzwerk erforscht werden können. Dies stellt eine Sonderform der Aggregatdatenanalyse dar (Baur, 2014). So konnten wir berechnen, dass Bilbo den höchsten Indegree- und Outdegreewert mit jeweils 75 besitzt. Dies zeigt auf, dass die meisten Beziehungen innerhalb des Tolkien-Universums zu Bilbo führen beziehungsweise von Bilbo ausgehen. Für uns war jedoch ein ganz anderer Punkt eine Erkenntnis. In der Visualisierung macht sich eine Sache nämlich ganz besonders bemerkbar: Gandalf stellt eine größere Schlüsselperson dar, obwohl nicht er den höchsten Degree-Wert besitzt. Durch das Ego-Netzwerk von Gandalf wurde uns klar, dass er eine höhere Anzahl an Vernetzungen aufweist als Bilbo, Bilbo allerdings insgesamt stärkere Beziehungen hat und daher den hohen Degree-Wert besitzt.
Die vierte Annahme setzt sich mit den Locations auseinander. Wir stellten die Hypothese auf, dass in der Verfilmung mehr Locations existieren als im Buch. Auch diese Annahme bestätigte sich anhand unserer Datenerhebung. Unser Teilnetzwerk, welches die Locations in der Literatur mit denen der Filmreihe vergleicht, weist auf, dass die Seestadt im Film eine größere Rolle spielt als im Buch.
In der Hobbit Verfilmung kommen mehr Charaktere vor als in der Literatur. Unsere Behauptung konnten wir durch unser Teilnetzwerk, das aufzeigt welche Charaktere im Film und welche im Buch vorkommen, untermauern. Schon die Tatsache, dass in der Literatur kein weiblicher Charakter auftritt, bewahrheitet unsere Hypothese.
Bei unserer letzten und fünften Annahme stellten wir die Vermutung auf, dass sowohl im Buch als auch im Film Liebesgeschichten existieren. Unsere Datenanalyse und das daraus resultierende Netzwerk widerlegt diese These. Die Liebesbeziehung zwischen der Waldelbin Tauriel und dem Elbenprinzen Legolas wird beispielsweise ausschließlich in der Verfilmung thematisiert. Da Tauriel als Charakter in der Literatur nicht vorhanden ist, liegt auch keine Liebschaft vor.

#7.2 Teamreflexion

Die Teamfindung ist in diesem Projekt etwas anders abgelaufen. Statt wie üblich, Teammitglieder anzufragen und daraufhin ein gemeinsames Thema zu finden, welches jedes Mitglied interessiert, ging man in dem Kurs anders vor. Wir „Hobbits“ haben uns aufgrund von Adriano Nicolosi’s Vorschlag, ein „Der Herr der Ringe“-Netzwerk zu erstellen, gefunden. Wir sind uns alle einig, dass sich diese Variante der Teambildung sehr gut dafür eignet, die Interessen der Gruppenmitglieder gleichermaßen abzudecken und so motivierter an das Projekt heranzugehen. Die Rolle des MVP hat sich schnell herauskristallisiert, denn Adriano Nicolosi brachte das meiste Wissen über das Tolkien-Universum mit und hat daher die Rolle des Teamleaders eingenommen. Als Gruppe haben wir uns den Workload gerecht aufgeteilt und jeder half den anderen Gruppenmitgliedern, wenn es mal nicht voran ging oder Fragen aufgekommen sind.
Zuerst besprachen wir in den ersten Meetings, was für eine Art von Netzwerk wir erstellen möchten. Die Anfangsidee wurden verworfen, ein „Herr der Ringe“ Netzwerk zu erstellen, da es dazu schon zu viele von gab. Schnell kamen wir auf die Idee, den Hobbit genauer zu untersuchen und ein Netzwerk zu erstellen.
Die Corona-Bedingungen erschwerten unseren eigentlich geplanten Kino-Abend, um gemeinsam die Hobbit-Filmreihe anzusehen und Notizen zu machen. Deshalb gaben wir uns im Team Deadlines, bis wann welcher Teil angeschaut werden soll und wir so sicherstellen konnte, dass alle auf demselben Stand waren. Jedes Teammitglied las sich die Originallektüre durch und in regelmäßigen Abständen hielten wir Meetings ab und besprachen unsere Ergebnisse. Oft erwies sich die Terminfindung innerhalb der Semesterferien als etwas schwierig, um jedes Gruppenmitglied einzufangen, jedoch haben wir es letzten Endes immer hinbekommen.
Die Datenerhebung beanspruchte viel Zeit und intensive Recherche von jedem Teammitglied. Wir haben in vielen Meetings darüber gesprochen, wie wir am besten und sinnvollsten vorgehen können. Das Team war sehr motiviert und daran interessiert, saubere und korrekte Edge- und Nodelists zu erstellen und eine große Datenbank zusammenzustellen.
Trotz sorgfältigem Vorgehen ließen sich Fehlermeldungen nicht vermeiden. In die Edgelist haben sich Leerzeichen eingeschlichen, die wir erst im Nachgang durch Fehlermeldungen bemerkt haben. Bei der Edgelist hatten wir Probleme damit, das Attribut location sinnvoll einzupflegen. Der Begriff location wurde in der Liste als Geburtsort der Charaktere vergeben und ebenfalls als Ort, in dem die Charaktere im Film auftreten. Zuerst war die Idee, alles in einem einzelnen Netzwerk zu visualisieren, jedoch konnte man daraus schwer die unterschiedlichen Bedeutungen des Begriffs locations herauslesen. Daher haben wir eine zweite Edgelist erstellt und das Problem so behoben. 
Wir Hobbits sind sehr zufrieden mit unserer Gruppenarbeit. Die Stärken jedes Teammitglieds haben wir für die anstehenden Aufgaben genutzt, um effizient und zielführend zu arbeiten. Die Gruppendynamik war immer gut und motiviert, selbst wenn es mal nicht so lief wie geplant. Alle Gruppenmitglieder haben sich an Deadlines gehalten, Hilfe wurde angeboten, wenn es mal gehakt hat und wir konnten gemeinsam strukturiert das Hobbit-Netzwerk erstellen.

#7.3 Lessons Learned

Aus unserem Forschungsprojekt konnten wir als Gruppe und auch jeder im Einzelnen sehr viel mitnehmen. Unsere Ansichten wie Dinge auf uns wirken, haben sich durch unsere Recherche und die intensive Zeit, die wir mit dem Projekt verbracht haben, teilweise verändert. Wir sehen Konstrukte aus der Sicht eines Netzwerkes. Sei es im echten Leben, in der Politik oder in diversen Unternehmen - man frägt sich mehr nach der Vernetzung verschiedener Akteure und wieviel teilweise auch von einem einzelnen Akteur abhängt und welche Steine er ins Rollen bringen kann. 
Eine Lektion, die wir mit Sicherheit gelernt haben ist, dass Netzwerke die Interpretation von Beziehungen und Konstellationen erleichtern. Visuell kann man einzelne Vernetzungen besser aufnehmen und verarbeiten. Für die Netzwerkanalyse spielen Visualisierungen eine zentrale Rolle. Die Beschreibung anhand von Bildern oder Objekten hat sich in den vergangenen Jahren neben der mithilfe von Programmen gestützten Darstellung und Analyse stark optimiert (Beck, 2013). 
Anfangs fiel es uns als Gruppe schwer die Aufgaben zu verteilen beziehungsweise zu definieren, welche Themenaspekte in Untergruppen aufgeteilt werden können und welche als gesamte Gruppe erledigt werden sollten. Da eine Datei in rstudio nicht von mehreren gleichzeitig bearbeitet werden kann, hielten wir zu Beginn Zoom-Meetings bei denen eine Person den Bildschirm geteilt hat. Im weiteren Verlauf konnten wir die Aufgaben jedoch besser einschätzen und somit auch auf verschiedene Köpfe verteilen.
Durch die Gruppenarbeit wurde uns zudem bewusst wieviel Aufwand hinter einem Forschungsprojekt steckt. Eine Datenbank ist mit zielgerichteter, zeitaufwändiger Recherche und vor allem aber gründlicher Informationsbeschaffung verbunden. War auch nur ein kleiner Fehler in der Edge- oder Nodeliste, so konnte dies eine riesen Auswirkung auf unser Netzwerk haben. Wir konnten uns aber bestens unterstützen und können am Ende mit voller Überzeugung sagen, dass sich jeder Moment des Recherchierens ausgezahlt hat.
Wir sind neugierig, welche Themengebiete zukünftig in Netzwerken visualisiert werden können. Denn wir Hobbits haben das Gefühl, dass dem “netzwerken” keine Grenzen gesetzt sind.

##8. Literaturverzeichnis

Ardapedia. (2017). Hobbits. Abgerufen von http://ardapedia.herr-der-ringe-film.de/index.php/Hobbits.

Baur, N. ( 2014). Netzwerkdaten. In N. Baur & J. Blasius (Hrsg.), Handbuch Methoden der empirischen Sozialforschung (S. 941–58). Wiesbaden: Springer Fachmedien.

Beck, M. (Hrsg.). (2013). Netzwerken - Bildungsmaterialien der Rosa-Luxemburg-Stiftung. Berlin: Rosa-Luxemburg-Stiftung.

Bernard. (2018). Analysing Lord of the Rings trilogy with Data Science - A Social Graphs and Interactions project [Web Blogeintrag]. Abgerufen von https://nab-88.github.io/social-graphs-and-interactions/.

Borcholte, A. (11. Dezember 2013). Smaugs Einöde: Interview mit ‚Hobbit‘-Regisseur Peter Jackson. DER SPIEGEL. Abgerufen von https://www.spiegel.de/kultur/kino/smaugs-einoede-interview-mit-hobbit-regisseur-peter-jackson-a-938398.html.

Breitsameter, F. (9. Juli 2012). Der Hobbit – Ein Überblick über die Figuren. Science-Fiction Portal. Abgerufen von https://sf-fan.de/aktuelle-meldungen/der-hobbit-ein-uberblick-uber-die-figuren.html.

Bronson, E., William, I., & Bülles, M. (2012). Die Philosophie Bei „der Hobbit“. Weinheim: Wiley-VCH GmbH.

Chill mit Film. (3. April 2014). Warum Peter Jackson für ‚Der Hobbit‘ verurteilt wird: Wieso der Film vom Buch abweicht [Web Blogeintrag]. Abgerufen von https://chill-mit-film.de/warum-peter-jackson-fuer-der-hobbit-verurteilt-wird-wieso-der-film-vom-buch-abweicht/.

Cuntz-Leng, V. (2017). Der Fantasyfilm. In M. Stiglegger (Hrsg.), Handbuch Filmgenre (S. 1-12). Wiesbaden: Springer Fachmedien.

Der Herr der Ringe Wiki. (2015). Der Hobbit: Eine unerwartete Reise. Abgerufen von https://lotr.fandom.com/de/wiki/Der_Hobbit:_Eine_unerwartete_Reise.

Der Herr der Ringe Wiki. (2015). Thorin & Co. Abgerufen von https://lotr.fandom.com/de/wiki/Thorin_%26_Co.

Fisher. (16. Juni 2019). Text Mining The Hobbit · Fisher Ankney [Web Blogeintrag]. Abgerufen von  http://fisherankney.com/text-mining-the-hobbit.

getabstract. (2014). Der Hobbit von J.R.R. Tolkien — Gratis-Zusammenfassung. Abgerufen von https://www.getabstract.com/de/zusammenfassung/der-hobbit/11106.

Haas, J. & Malang, T. (2010). Beziehungen und Kanten. In C. Stegbauer & R. Häußling (Hrsg.), Handbuch Netzwerkforschung (S. 89–98). Wiesbaden: VS Verlag für Sozialwissenschaften.

Hobbit Presse. (2018).J.R.R. Tolkien – Hobbit Presse Blog. Abgerufen von https://www.hobbitpresse.de/j-r-r-tolkien/.

Jackson, P. (Producer). (2014). Der Hobbit: Die Schlacht der fünf Heere [Film]. New York City: New Line Cinema.

Jackson, P. (Producer). (2012). Der Hobbit: Eine unerwartete Reise [Film]. New York City: New Line Cinema.

Jackson, P. (Producer). (2013). Der Hobbit: Smaugs Einöde [Film]. New York City: New Line Cinema.

Jansen, D. (2006). Einführung in die Netzwerkanalyse: Grundlagen, Methoden, Forschungsbeispiele. Wiesbaden: Springer Fachmedien.

Lippold, M. (2. September 2013). Wie Tolkien Mittelerde erfand: Vor 40 Jahren starb der Hobbit-Vater. ntv. Abgerufen von https://www.n-tv.de/leute/film/Wie-Tolkien-Mittelerde-erfand-Vor-40-Jahren-starb-der-Hobbit-Vater-article11246921.html#:~:text=Titel%20der%20Erstausgabe%20von%20%22Der%20Hobbit%22.&text=Aus%20diesem%20Satz%20entwickelte%20Tolkien%20ein%20Kinderbuch%2C%20das%20er%201937%20ver%C3%B6ffentlichte.&text=Doch%20schon%20lange%20vor%20der,seine%20eigene%20Welt%20zu%20entwickeln.

Simek, R. (2016). Mittelerde. München: Verlag C.H.Beck.

Tolkien, J.R.R. (2012). Der kleine Hobbit. München: Deutscher Taschenbuch Verlag GmbH & Co. KG.

TolkienWelt. (2016). Hobbits. Abgerufen von http://www.tolkienwelt.de/mittelerde/voelker-und-rassen/die-hobbits.html.

TolkienWelt. (2016). Inhaltsangabe - Der Herr der Ringe. Abgerufen von http://www.tolkienwelt.de/literatur/inhaltsangabe_der_herr_der_ringe.html.

TolkienWelt. (2016). Zwerge in Mittelerde. Abgerufen von http://www.tolkienwelt.de/mittelerde/voelker-und-rassen/die-zwerge-die-kinder-aules.html.
